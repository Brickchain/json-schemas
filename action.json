{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$id": "https://developer.brickchain.com/schemas/action.json",
    "title": "Action",
    "description": "The Action document is what is sent to an Action endpoint, to trigger a service or transaction. The Parameters can be inserted with data coming from an Action Descriptor or a web formed filled in by a user.",
    "type": "object",
    "allOf": [ { "$ref": "https://developer.brickchain.com/schemas/base.json" } ],
    "properties": {
        "role": {
            "type": "string",
            "description": "The Role used for the Action",
            "examples": [ "admin@example.com", "guest@example.com" ]
        },
        "mandate": {
            "type": "string",
            "description": "The Mandate used for the Action"
        },
        "nonce": {
            "type": "string",
            "description": "The nonce used for the Action"
        },
        "params": {
            "type": "object",
            "properties": {
                ".*": {
                    "type": "string"
                }
            },
            "description": "Additional parameters needed to perform the Action"
        },
        "facts": {
            "type": "array",
            "items": {
                "type": "string",
                "description": "A fact"
            },
            "description": "All shared facts needed to perform the Action"
        },
        "contract": {
            "type": "object",
            "description": "The message that was shown when the Action was signed"
        }
    },
    "required": [
        "role"
    ]
}
